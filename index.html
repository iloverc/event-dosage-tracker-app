<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dosage Tracker App</title>
    
    <!-- Material Design Iconic Font -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/4.5.10-0/css/ionicons.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/v4-shims.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Onsen UI -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/onsen/2.10.10/css/onsenui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/onsen/2.10.10/css/onsen-css-components.min.css">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Onsen UI JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/onsen/2.10.10/js/onsenui.min.js"></script>
</head>
<body>
    <ons-page>
        <ons-toolbar>
            <div class="center">Dosage Tracker App</div>
        </ons-toolbar>

        <ons-card>
            <ons-button onclick="createNewEvent()">Create Event</ons-button>
            <ons-list id="events-list"></ons-list>
            <ons-button onclick="showJSONData()">Export JSON Data</ons-button>
        </ons-card>

        <ons-modal id="event-modal">
            <ons-card>
                <h2 id="event-date"></h2>
                <div id="event-entries"></div>
                <ons-button onclick="showNewEntryModal()">Add New Entry</ons-button>
                <ons-button onclick="closeEventModal()">Close</ons-button>
                <ons-button onclick="deleteEvent()">Delete Event</ons-button>
            </ons-card>
        </ons-modal>

        <ons-modal id="new-entry-modal">
            <ons-card>
                <form id="entry-form">
                    <ons-select id="substance-select" onchange="updateUnit()">
                        <option value="">Select Substance</option>
                        <option value="K">K</option>
                        <option value="M">M</option>
                        <option value="2cb">2cb</option>
                        <option value="G">G</option>
                        <option value="Coke">Coke</option>
                        <option value="N2O">N2O</option>
                    </ons-select>
                    <ons-input id="name-input" placeholder="Name"></ons-input>
                    <ons-input id="dosage-input" type="number" placeholder="Dosage"></ons-input>
                    <ons-input id="unit-input" placeholder="Unit"></ons-input>
                    <ons-button onclick="saveNewEntry()">Add Entry</ons-button>
                    <ons-button onclick="closeNewEntryModal()">Cancel</ons-button>
                </form>
            </ons-card>
        </ons-modal>

        <ons-modal id="json-modal">
            <ons-card>
                <pre id="json-output"></pre>
                <ons-button onclick="document.getElementById('json-modal').hide()">Close</ons-button>
            </ons-card>
        </ons-modal>
    </ons-page>

    <script src="script.js"></script>
</body>
</html>
