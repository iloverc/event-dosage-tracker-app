<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dosage Tracker App</title>
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
</head>
<body>
    <ons-page>
        <ons-toolbar>
            <div class="center">Dosage Tracker App</div>
        </ons-toolbar>

        <ons-card>
            <ons-button onclick="createNewEvent()">Create Event</ons-button>
        </ons-card>

        <ons-list id="events-list"></ons-list>

        <ons-button onclick="showJSONData()">Export JSON Data</ons-button>
    </ons-page>

    <!-- Event Modal -->
    <ons-modal id="event-modal">
        <ons-card>
            <h2 id="event-date"></h2>
            <ons-button onclick="showNewEntryModal()">Add New Entry</ons-button>
            <ons-list id="event-entries"></ons-list>
            <ons-button onclick="document.getElementById('event-modal').hide()">Close</ons-button>
        </ons-card>
    </ons-modal>

    <!-- New Entry Modal -->
    <ons-modal id="new-entry-modal">
        <ons-card>
            <form id="new-entry-form">
                <ons-input id="name-input" type="text" placeholder="Name" float></ons-input>
                <ons-select id="substance-select" onchange="updateUnit()">
                    <option value="">Select Substance</option>
                    <option value="K">K</option>
                    <option value="M">M</option>
                    <option value="2cb">2cb</option>
                    <option value="G">G</option>
                    <option value="Coke">Coke</option>
                    <option value="N2O">N2O</option>
                </ons-select>
                <ons-input id="dosage-input" type="number" placeholder="Dosage" float></ons-input>
                <ons-input id="unit-input" type="text" placeholder="Unit" disabled float></ons-input>
                <ons-button onclick="saveNewEntry()">Add Entry</ons-button>
                <ons-button onclick="document.getElementById('new-entry-modal').hide()">Cancel</ons-button>
            </form>
        </ons-card>
    </ons-modal>

    <!-- JSON Modal -->
    <ons-modal id="json-modal">
        <ons-card>
            <div id="json-output"></div>
            <ons-button onclick="document.getElementById('json-modal').hide()">Close</ons-button>
        </ons-card>
    </ons-modal>

    <script src="script.js"></script>
</body>
</html>
